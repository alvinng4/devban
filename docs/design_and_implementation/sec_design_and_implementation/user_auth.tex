\subsection{User Authentication}
For reliable user authentication, we adopted the external Firebase Authentication service. 

\subsubsection{Sign up}
We provide the following two methods for user sign up as these are the most common methods:
\begin{enumerate}
    \item Email
    \item Google sign in
\end{enumerate}
User should provide the following information:
\begin{itemize}%[leftmargin=*]
    \item Username (String)
    \item Email (String)
    \item Password (String)
\end{itemize}
For email sign up, user must pass the \textbf{email verification} to sign in their account to prevent
abuse.

\subsubsection{Sign in}
Similar to sign up, we provide the following two methods:
\begin{enumerate}
    \item Email
    \item Google sign in
\end{enumerate}
User should provide the following information:
\begin{itemize}%[leftmargin=*]
    \item Email (String)
    \item Password (String)
\end{itemize}

\subsubsection{Sequence diagram}
Figure \ref{fig:user_auth_sequence} shows the workflow for user authentication.
Note that the database (Firebase Firestore) is not involved in this process.
Firebase Auth will automatically store the user credentials and their username.
\begin{figure}
    \centering
    \includegraphics[width=.6\textwidth]{assets/auth/user_auth_sequence/user_auth_sequence.pdf}
    \caption{Sequence diagram for user authentication}
    \label{fig:user_auth_sequence}
\end{figure}

\subsubsection{UI design}
Figure \ref{fig:ui_design_auth} shows the UI design for login and sign up.
\begin{figure}
    \centering
    \begin{subfigure}{0.45\textwidth}
        \centering
        \includegraphics[width=\textwidth]{assets/auth/login.png}
        \caption{Login UI}
        \label{subfig:login_ui}
    \end{subfigure}
    \begin{subfigure}{0.45\textwidth}
        \centering
        \includegraphics[width=\textwidth]{assets/auth/sign_up.png}
        \caption{Sign up UI}
        \label{subfig:sign_up_ui}
    \end{subfigure}
    \caption{UI design for login and sign up}
    \label{fig:ui_design_auth}
\end{figure}

\subsubsection{Deleting User Account}
To protect user privacy, when user initiates account deletion, all of their
account-related data will be deleted.