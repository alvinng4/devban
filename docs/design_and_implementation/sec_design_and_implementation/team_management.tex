\subsection{Teams Management}
Before accessing the main features of devban, users must first create or join a team.

\subsubsection{License}
A license key is required for creating a team. User can contact us via email
and subscribe to our plans to get a license key. A license key will then be
manually created by us and stored on the database.

A license key on the database should contain the following fields:
\begin{itemize}%[leftmargin=*]
    \item \texttt{id} (String): the license key
    \item \texttt{description} (String): Description containing necessary information.
    \item \texttt{team\_id} (String): ID of the team that was created by the license key.
    Empty if the license key is not used.
\end{itemize}

\subsubsection{Team creation}
User should provide the following information in order to create a team:
\begin{enumerate}
    \item Team name (String)
    \item A valid license key (String)
\end{enumerate}
The user would automatically became the team admin.

\subsubsection{Joining a team}
To join a team, the user must provide an invite code (String) generated by the team admin.

\subsubsection{Invite codes}
For security reasons, invite codes should be generated by admin only.
It should also be expired after a certain period of time (7 days by default).

An invite code on the database should contain the following fields:
\begin{itemize}%[leftmargin=*]
    \item \texttt{id} (String): the invite code
    \item \texttt{team\_id} (String): the team ID for the invite code
    \item \texttt{created\_date} (TimeStamp): Created date of the invite code
    \item \texttt{expiry\_date} (TimeStamp): Expiry date of the invite code
    \item \texttt{redeemed\_by\_uid} (String): User ID of the user that redeemed the invite code. Empty if not used.
\end{itemize}

\subsubsection{Sequence diagram}
Figure \ref{fig:team_sequence} shows the workflow for creating and joining a team.
\begin{figure}[H]
    \centering
    \includegraphics[width=.8\textwidth]{assets/teams/team_sequence/team_sequence.pdf}
    \caption{Sequence diagram for teams management}
    \label{fig:team_sequence}
\end{figure}

\subsubsection{UI design}
Figure \ref{fig:ui_design_team} shows the UI design for joining and creating teams.
Figure \ref{fig:ui_invite_code} shows the UI design for generating invite codes.
\begin{figure}[H]
    \centering
    \begin{subfigure}{0.45\textwidth}
        \centering
        \includegraphics[width=\textwidth]{assets/teams/join_team.png}
        \caption{UI for joining a team}
        \label{subfig:join_team_ui}
    \end{subfigure}
    \begin{subfigure}{0.45\textwidth}
        \centering
        \includegraphics[width=\textwidth]{assets/teams/create_team.png}
        \caption{UI for creating a team}
        \label{subfig:create_team_ui}
    \end{subfigure}
    \caption{UI design for joining and creating teams}
    \label{fig:ui_design_team}
\end{figure}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.6\textwidth]{assets/teams/ui_invite_code.png}
    \caption{UI for generating invite codes}
    \label{fig:ui_invite_code}
\end{figure}